<site name="Medium" homepage="https://medium.com/">
	<example>https://medium.com/@donnydonny/team-internet-is-about-to-win-net-neutrality-and-they-didnt-need-googles-help-e7e2cf9b8a95</example>
	<tags><tag>blogging</tag></tags>

	<host>medium.com</host>
	<extract>#medium\.com/(?:s/\w+/|@?[-\w]+/)?(?:[%\w]+-)*(?'id'[0-9a-f]+)(?![%\w])#</extract>
	<!--
		let c = new MessageChannel,
			w = this.contentWindow;
		c.port1.onmessage = (e) =>
		{
			let data   = e.data,
				action = data['action'];

			if (action === 'resize')
			{
				this.style.height = data.height + 'px';
			}
			else if (action === 'forward')
			{
				window.addEventListener(
					'message',
					(e) =>
					{
						if (e.source.parent === w)
						{
							c.port1.postMessage(data);
						}
					}
				);
			}
		};
		w.postMessage('s9e:init', '*', [c.port2]);
	-->
	<iframe width="100%" height="316" max-width="900" src="https://s9e.github.io/iframe/3/medium.min.html#{@id}" onload="let c=new MessageChannel,w=this.contentWindow;c.port1.onmessage=a=>{{let b=a.data;a=b.action;'resize'===a?this.style.height=b.height+'px':'forward'===a&amp;&amp;window.addEventListener('message',d=>{{d.source.parent===w&amp;&amp;c.port1.postMessage(b)}})}};w.postMessage('s9e:init','*',[c.port2])" data-s9e-livepreview-ignore-attrs="style"/>
</site>