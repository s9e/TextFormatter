<site name="Medium" homepage="https://medium.com/">
	<example>https://medium.com/@donnydonny/team-internet-is-about-to-win-net-neutrality-and-they-didnt-need-googles-help-e7e2cf9b8a95</example>
	<tags><tag>blogging</tag></tags>

	<host>medium.com</host>
	<extract>#medium\.com/(?:s/\w+/|@?[-\w]+/)?(?:[%\w]+-)*(?'id'[0-9a-f]+)(?![%\w])#</extract>
	<!--
		let c = new MessageChannel,
			w = this.contentWindow;
		c.port1.onmessage = (e) =>
		{
			let data   = e.data,
				action = data['action'];

			if (action === 'resize')
			{
				this.style.height = data.height + 'px';
			}
			else if (action === 'forward')
			{
				window.addEventListener(
					'message',
					(e) =>
					{
						if (e.source.parent === w)
						{
							c.port1.postMessage(data);
						}
					}
				);
			}
		};
		w.postMessage('s9e:init', '*', [c.port2]);
	-->
	<iframe width="100%" height="316" max-width="900" src="https://s9e.github.io/iframe/3/medium.min.html#{@id}" onload="let b=new MessageChannel,d=this.contentWindow;b.port1.onmessage=a=&gt;{{let c=a.data;a=c.method;if('resize'===a){{if(a=+c.height)this.style.height=a+'px'}}else'forward'===a&amp;&amp;window.addEventListener('message',e=&gt;{{e.source.parent===d&amp;&amp;b.port1.postMessage({{method:'message',data:c.data}})}})}};d.postMessage('s9e:init:3','*',[b.port2])" data-s9e-livepreview-ignore-attrs="style"/>
</site>